
git_etags() { etag_s=git ; source "$FTL_CFG/etc/etags/$etag_s" ; ((etag^=1)) ; cdir ;  }

git_add() { git add "${selection[@]}" ; etag_dir ; cdir ; }

git_find() 
{
git_root="$(git rev-parse --show-toplevel)"
go_loop f fzf "$(cd "$git_root" ; git -c color.status=always status -s | lscolors | fzf-tmux $fzf_opt -m --expect=ctrl-t --ansi | sed 's#...#'$git_root'/#')"
}

git_diff() { tcpreview ; git diff "$n" ; cdir ; }

bind leader_ftl extra	"LEADER g g"	git_etags	"git display status"
bind leader_ftl extra	"LEADER g a"	git_add		"git add selection"
bind leader_ftl extra	"LEADER g f"	git_find	"git go to git file"
bind leader_ftl extra	"LEADER g d"	git_diff	"git diff"

#todo
# etags in preview

# vim: set filetype=bash :
